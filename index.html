<!DOCTYPE html>

<html>
<head>
	<title>VegasJS</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <link rel="stylesheet" type="text/css" href="vendor/uikit-1.0.2/css/uikit.min.css" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />

	<script type="text/javascript" src="https://rawgithub.com/lpelos/vegas-js/master/vegas.js"></script>

  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body class="uk-clearfix">

<nav>
  <ul class="uk-nav">
    <li class="uk-nav-header"><a href="#home">Intro</a></li>
    <li><a href="#download">Download</a></li>
    <li><a href="#requirements">Requirements</a></li>
    <li><a href="#usage">Usage</a></li>
    <li class="uk-nav-divider"></li>
    
    <li class="uk-nav-header"><a href="#model">Model</a></li>
    <li class="uk-parent">
      <ul class="uk-nav-sub">
        <li><a href="#model_get">.get</a></li>
        <li><a href="#model_set">.set</a></li>
        <li><a href="#model_extend">.extend</a></li>
        <li><a href="#model_save">.save</a></li>
        <li><a href="#model_isNew">.isNew</a></li>
        <li><a href="#model_fetch">.fetch</a></li>
        <li><a href="#model_destroy">.destroy</a></li>
      </ul>
    </li>

    <li class="uk-nav-header"><a href="#collection">Collection</a></li>
    <li class="uk-parent">
      <ul class="uk-nav-sub">
      </ul>
    </li>
  </ul>
</nav>

<article class="uk-article">

  <section id="intro">
    <h1 class="uk-article-title">VegasJS</h1>
    <p class="author uk-article-meta">maintained by <a href="https://github.com/lpelos">lpelos</a></p>

    <p>No need for going anywhere to persist your data. <br />
    What happens in Vegas, stays in Vegas.</p>
    <aside>
      PS: at Vegas you're on your own, trust it and you may see everything you saved disapear in the blink of an eye at the first slip or lack of luck.
    </aside>

    <div id="download" class="uk-clearfix">
      <a href="https://github.com/lpelos/vegas-js/zipball/master" class="uk-button uk-button-large">
        <i class="uk-icon-archive"></i> Download .zip
      </a>

      <a href="https://github.com/lpelos/vegas-js/tarball/master" class="uk-button uk-button-large">
        <i class="uk-icon-archive"></i> Download .tar.gz
      </a>

      <a href="https://github.com/lpelos/vegas-js" class="uk-button uk-button-large">
        <i class="uk-icon-github"></i> View on GitHub
      </a>      
    </div>

    <hr class="uk-article-divider" />

    <section id="what_is_it">
      <h2>What is it?</h2>

      <p>VegasJS is a simple JavaScript library inspired by <a href="http://backbonejs.org/#introduction" target="blank">BackboneJS</a>, which provides you Models and Colletions structures so you can keep your client-side data organized, but instead of storaging them in a databases via JSON interface, it uses <a href="http://en.wikipedia.org/wiki/Web_storage" target="blank">HTML<i class="uk-icon-html5"></i> Web Storage</a>.</p>

      <p>Since Web Storage is not a reliable way of keeping your data safe, once it's is only accessible on the browser that generated it and can be easilly wiped out by a simple <code>localStorage.clear()</code>, despite the joke at the presentation, it would not be a wise to use VegasJS for data persistance.</p>

      <p>Why bother using it then? Here is two examples:</p>
      <ul class="uk-list">
        <li>
          <i class="uk-icon-double-angle-right"></i>
          <strong>Bettering UX:</strong>
          keep data you already requested from the server once on the client and avoid unecessary request to retreive the same data.
        </li>
        <li>
          <i class="uk-icon-double-angle-right"></i>
          <strong>POC's and Prototype Client-side apps:</strong> why spend time building a JSON API when there is no interest in keeping the data?
        </li>
      </ul>

    </section>

    <hr class="uk-article-divider" />

    <section id="requirements">
      <h2>Requirements</h2>

      <p>For Vegas uses HTML<i class="uk-icon-html5"></i> localStorage to store data, it only works in browsers that support this feature, like the following:</p>

      <ul class="uk-list">
        <li>Google Chrome 4+</li>
        <li>Firefox 3.5+</li>
        <li>Safari 4+</li>
        <li>Opera 11+</li>
        <li>IE 8+</li>
      </ul>
    </section>

    <hr class="uk-article-divider" />

    <section id="usage">
      <h2>Usage</h2>

      <p>To include VegasJS in your document is all that is takes.</p>

      <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title">Example:</h3>
        <code>
          <span class="tag">
            &lt;script <span class="attribute">type</span>=&quot;<span class="value">text/javascript</span>&quot; <wbr /><span class="attribute">src</span>=&quot;<span class="value">vegas.js</span>&quot;&gt;<wbr />&lt;/script&gt;
          </span>
        </code>
      </div>
    </section>

  </section>

  <hr class="uk-article-divider" />

  <section id="model">
    <h2>Vegas.Model</h2>
    <p>Models hold all the class and instance methods and properties. <strong>Vegas.Model</strong> can be instanced and used directally or extended to a custom class.</p>
    <p>It expects the following attributes:</p>
    <dl class="uk-clearfix">
      <dt><i class="uk-icon-double-angle-right"></i> url:</dt>
      <dd>the key used to store the object, added to it's id, on lodalStorage object.</dd>
      <dt><i class="uk-icon-double-angle-right"></i> attributes:</dt>
      <dd>an object in which contains all the instance data that is suppose to be saved.</dd>
    </dl>

    <div class="uk-panel uk-panel-box">
      <h3 class="uk-panel-title">Example:</h3>
      <code class="javascript">

<pre><span class="kwd">var</span> person = <span class="kwd">new</span> <span class="typ">Vegas.Model</span>({
    url: <span class="str">"people"</span>,
    name: <span class="str">"John"</span>,
    lastName: <span class="str">"Doe"</span>,
    age: <span class="lit">42</span>
});</pre>

      </code>
    </div>

    <p>The object url can be retreived and modified by manipulating its property "url". In this case: <code>person.url</code>.</p>
    <p>All the other properties of the object given to the model's contructor will automatically set in the instance attrivute object and can be get our modified by the use of the instance methods <code>.get</code> and <code>.set</code>.</p>

    <section id="model_get">
      <h3 class="method-title">.get(attribute)</h3>
      <p>It returns the current value of the attribute with the name passed as argument. Ex.: <code>person.get("name")</code>.</p>
    </section>

    <section id="model_set">
      <h3 class="method-title">.set(attribute, value)</h3>
      <p>Changes the value of the model's attribute with the name passed as argument.</p>
      <p>Accepts either one object as argument or two a string and a value, being the string the name of the attribute.</p>

      <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title">Example:</h3>
        <code class="javascript">

<pre><span class="kwd">var</span> person = <span class="kwd">new</span> <span class="typ">Vegas.Model</span>();

person.set({
    name: <span class="str">"John"</span>,
    lastName: <span class="str">"Doe"</span>
});

person.set(<span class="str">"age"</span>, <span class="lit">42</span>);
</pre>

        </code>
    </section>

    <section id="model_extend">
      <h3 class="method-title">.extend(properties)</h3>

      <p>It expects an object which may contain:</p>

      <dl class="uk-clearfix">
        <dt><i class="uk-icon-double-angle-right"></i> initialize:</dt>
        <dd>a function that will be executed on the extended model instances inicialization.</dd>
        <dt><i class="uk-icon-double-angle-right"></i> custom properties:</dt>
        <dd>instance methods and properties that are gonna me set in the prototype chain.</dd>
      </dl>

      <p>It returns an constructor function with the custom properties and methods passed in the argument object.</p>

      <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title">Example:</h3>
        <code class="javascript">

<pre><span class="kwd">var</span> <span class="typ">Person</span> = <span class="typ">Vegas.Model</span>.extend({
    url: <span class="str">"people"</span>,
    initialize: <span class="kwd">function</span>(name, lastName) {
        this.set({
            name: name,
            lastName: lastName
        });
    },
    presentSelf: <span class="kwd">function</span>() {
        alert(<span class="str">"Hi, I'm "</span> + this.get(<span class="str">"name"</span>)  + " " + this.get(<span class="str">"lastName"</span>);
    }
});

<span class="kwd">var</span> person = <span class="kwd">new</span> <span class="typ">People</span>(<span class="str">"John"</span>, <span class="str">"Doe"</span>);
person.presentSelf();
</pre>
        </code>
      </div>
    </section>

    <section id="model_save">
      <h3 class="method-title">.save()</h3>

      <p>It jsonifies the model attributes object and saves it in the Web Storage. Ex.: <code>person.save()</code>.</p>

      <p>If the model doesn't have an ID yet, one is automatically generated and set as one of its attribute.</p>

      <p>To find out if a model has already been saved once, use <code>.isNew()</code> or <code>.get("id")</code>.</p>
    </section>

    <section id="model_isNew">
      <h3 class="method-title">.isNew()</h3>
      <p>Returns <code>true</code> if the model has no attribute "id".</p>
    </section>

    <section id="model_fetch">
      <h3 class="method-title">.fetch()</h3>

      <p>It fetches in Web Storage for data which key matches the model's URL and ID and, if found, updates its attributes.</p>

      <div class="uk-panel uk-panel-box">
        <h3 class="uk-panel-title">Example:</h3>
        <code class="javascript">

<pre><span class="kwd">var</span> person = <span class="kwd">new</span> <span class="typ">Vegas.Model</span>({
    url: <span class="str">people</span>,
    id: <span class="lit">1</span>
});

person.fetch();</pre>

        </code>
      </div>
    </section>

    <section id="model_destroy">
      <h3 class="method-title">.destroy()</h3>

      <p>Remove the register referent to the model from the Web Storage. Ex.: <code>person.destroy()</code>.</p>
    </section>

  </section>

  <hr class="uk-article-divider" />

  <section id="collection">
    <h2>Vegas.Collection</h2>

    <p>Collection are models lists with some useful methods.</p>
    <p>On inicialization, accepts an object containing either one or all of the following:</p>

    <dl class="uk-clearfix">
      <dt><i class="uk-icon-double-angle-right"></i> url:</dt>
      <dd>the key used in the search for models in the localStorage, matching with their "url" property.</dd>

      <dt><i class="uk-icon-double-angle-right"></i> model:</dt>
      <dd>the constructor function to be used on the models fetching process. Default: <code>Vegas.Model</code>.</dd>

      <dt><i class="uk-icon-double-angle-right"></i> models:</dt>
      <dd>an array either of model instances or of objects each one containing attributes which will be automatically converted to a model instance. All the given items will be automatically added to the collection.</dd>
    </dl>

   <div class="uk-panel uk-panel-box">
      <h3 class="uk-panel-title">Example:</h3>
      <code class="javascript">

<pre><span class="kwd">var</span> peopleList = <span class="kwd">new</span> <span class="typ">Vegas.Collection</span>({
    url: <span class="str">people</span>,
    model: <span class="typ">Person</span>,
    models: [
        { name: <span class="str">"John"</span>, lastName: <span class="str">"Doe"</span> },
        { name: <span class="str">"Jane"</span>, lastName: <span class="str">"Smith"</span> }
    ]
});
</pre>

      </code>
    </div>
  </section>

</article>

</body>
</html>